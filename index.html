<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Football Studio - Verificador</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #e6ecf0;
      text-align: center;
      padding: 20px;
    }

    h1 {
      margin-top: 10px;
    }

    button {
      font-size: 16px;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      color: white;
      cursor: pointer;
      border-radius: 5px;
    }

    .casa {
      background-color: red;
    }

    .visitante {
      background-color: blue;
    }

    .estatisticas {
      background-color: white;
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
      display: inline-block;
      text-align: left;
    }

    #historico {
      margin-top: 20px;
    }

    .reset {
      margin-top: 20px;
      background-color: #ccc;
      color: black;
    }
  </style>
</head>
<body>
  <h1>⚽ Football Studio - Verificador</h1>

  <div>
    <button class="casa" onclick="registrar('Casa')">Casa</button>
    <button class="visitante" onclick="registrar('Visitante')">Visitante</button>
  </div>

  <div class="estatisticas">
    <h3>📊 Estatísticas</h3>
    <p>✅ Greens totais: <span id="greensTotais">0</span></p>
    <p>🟢 Greens diretos: <span id="greensDiretos">0</span></p>
    <p>🔵 Greens no Gale 1: <span id="greensGale1">0</span></p>
    <p>❌ Reds nas últimas 24h: <span id="reds24h">0</span></p>
    <p>🚫 Reds seguidos nas últimas 24h: <span id="redsSeguidos">0</span></p>
    <p>🔴 Recorde de reds seguidos: <span id="recordeReds">0</span></p>
    <p>📈 Assertividade: <span id="assertividade">0</span>%</p>
    <p>🕒 Rodadas registradas: <span id="rodadaAtual">0</span></p>
  </div>

  <h3>📋 Histórico</h3>
  <div id="historico"></div>

  <button class="reset" onclick="resetar()">🔄 Resetar tudo</button>

  <script>
    let rodada = 0;
    let greensTotais = 0;
    let greensDiretos = 0;
    let greensGale1 = 0;
    let reds24h = 0;
    let redsSeguidos = 0;
    let recordeReds = 0;
    let historico = [];

    function registrar(sinal) {
      rodada++;
      const resultado = prompt(`Rodada ${rodada}: Resultado (Casa, Visitante ou Empate)?`);

      let resultadoFinal = resultado?.trim()?.toLowerCase();
      let sinalFinal = sinal.toLowerCase();

      if (!resultadoFinal || !["casa", "visitante", "empate"].includes(resultadoFinal)) {
        alert("Resultado inválido.");
        rodada--;
        return;
      }

      let isGreen = false;
      let gale = false;

      if (resultadoFinal === sinalFinal || resultadoFinal === "empate") {
        greensTotais++;
        greensDiretos++;
        isGreen = true;
        redsSeguidos = 0;
      } else {
        const galeResultado = prompt("Gale 1 - Resultado (Casa, Visitante ou Empate)?");
        let galeFinal = galeResultado?.trim()?.toLowerCase();

        if (galeFinal === sinalFinal || galeFinal === "empate") {
          greensTotais++;
          greensGale1++;
          isGreen = true;
          gale = true;
          redsSeguidos = 0;
        } else {
          reds24h++;
          redsSeguidos++;
          if (redsSeguidos > recordeReds) {
            recordeReds = redsSeguidos;
          }
        }
      }

      historico.push({
        rodada,
        sinal,
        resultado,
        gale: gale ? "Sim" : "Não",
        green: isGreen ? "✅" : "❌"
      });

      atualizarTela();
    }

    function atualizarTela() {
      document.getElementById("rodadaAtual").textContent = rodada;
      document.getElementById("greensTotais").textContent = greensTotais;
      document.getElementById("greensDiretos").textContent = greensDiretos;
      document.getElementById("greensGale1").textContent = greensGale1;
      document.getElementById("reds24h").textContent = reds24h;
      document.getElementById("redsSeguidos").textContent = redsSeguidos;
      document.getElementById("recordeReds").textContent = recordeReds;

      let totalEntradas = greensTotais + reds24h;
      let assertividade = totalEntradas > 0 ? ((greensTotais / totalEntradas) * 100).toFixed(1) : 0;
      document.getElementById("assertividade").textContent = assertividade;

      const histDiv = document.getElementById("historico");
      histDiv.innerHTML = "";
      historico.slice().reverse().forEach(item => {
        histDiv.innerHTML += `<p>Rodada ${item.rodada}: ${item.green} - Sinal: ${item.sinal} | Resultado: ${item.resultado} | Gale: ${item.gale}</p>`;
      });
    }

    function resetar() {
      if (confirm("Deseja realmente resetar todos os dados?")) {
        rodada = 0;
        greensTotais = 0;
        greensDiretos = 0;
        greensGale1 = 0;
        reds24h = 0;
        redsSeguidos = 0;
        recordeReds = 0;
        historico = [];
        atualizarTela();
      }
    }
  </script>
</body>
</html>
