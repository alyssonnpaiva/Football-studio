<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Football Studio - Verificador</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f5f9;
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    h1 {
      margin-top: 0;
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
    }
    .btn-casa { background-color: red; }
    .btn-visitante { background-color: blue; }
    .btn-resultado { margin: 5px; }
    .btn-result-casa { background-color: red; }
    .btn-result-visitante { background-color: blue; }
    .btn-result-empate { background-color: goldenrod; }
    .stats-box {
      background-color: white;
      border-radius: 12px;
      padding: 15px;
      margin-top: 20px;
      display: inline-block;
      text-align: left;
    }
    .history {
      margin-top: 20px;
      text-align: center;
    }
    .reset-btn {
      background-color: #64748b;
      color: white;
      margin-top: 15px;
    }
  </style>
</head>
<body>

  <h1>⚽ Football Studio - Verificador</h1>

  <div>
    <button class="btn-casa" onclick="registrarSinal('Casa')">Casa</button>
    <button class="btn-visitante" onclick="registrarSinal('Visitante')">Visitante</button>
  </div>

  <div id="resultado-opcoes" style="display:none;">
    <p>Rodada <span id="rodada-num"></span>: Qual foi o resultado?</p>
    <button class="btn-resultado btn-result-casa" onclick="registrarResultado('Casa')">Casa</button>
    <button class="btn-resultado btn-result-visitante" onclick="registrarResultado('Visitante')">Visitante</button>
    <button class="btn-resultado btn-result-empate" onclick="registrarResultado('Empate')">Empate</button>
  </div>

  <div class="stats-box">
    <h3>📊 Estatísticas</h3>
    <p>✅ Greens totais: <span id="greens">0</span></p>
    <p>🟢 Greens diretos: <span id="greensDiretos">0</span></p>
    <p>🧊 Greens no Gale 1: <span id="greensGale1">0</span></p>
    <p>❌ Reds nas últimas 24h: <span id="reds24h">0</span></p>
    <p>⛔ Reds seguidos nas últimas 24h: <span id="redsSeguidos24h">0</span></p>
    <p>🔴 Recorde de reds seguidos: <span id="recordeReds">0</span></p>
    <p>📈 Assertividade: <span id="assertividade">0%</span></p>
    <p>🕒 Rodadas registradas: <span id="rodadasRegistradas">0</span></p>
  </div>

  <div class="history">
    <h3>📋 Histórico</h3>
    <ul id="historico"></ul>
  </div>

  <button class="reset-btn" onclick="resetarTudo()">🔄 Resetar tudo</button>

  <script>
    let rodada = 0;
    let stats = {
      greens: 0,
      greensDiretos: 0,
      greensGale1: 0,
      reds24h: 0,
      redsSeguidos24h: 0,
      recordeReds: 0,
      assertividade: 0,
      rodadas: 0,
      historico: [],
      streakRedAtual: 0
    };
    let sinalAtual = '';
    let galeUsado = false;

    function registrarSinal(sinal) {
      sinalAtual = sinal;
      document.getElementById("rodada-num").innerText = rodada + 1;
      document.getElementById("resultado-opcoes").style.display = "block";
    }

    function registrarResultado(resultado) {
      document.getElementById("resultado-opcoes").style.display = "none";
      rodada++;
      stats.rodadas++;

      let green = false;

      if (resultado === 'Empate') {
        green = true;
        stats.greens++;
        if (!galeUsado) stats.greensDiretos++;
        else stats.greensGale1++;
        stats.streakRedAtual = 0;
      } else if (resultado === sinalAtual) {
        green = true;
        stats.greens++;
        if (!galeUsado) stats.greensDiretos++;
        else stats.greensGale1++;
        stats.streakRedAtual = 0;
      } else if (!galeUsado) {
        galeUsado = true;
        document.getElementById("rodada-num").innerText = rodada + 1;
        document.getElementById("resultado-opcoes").style.display = "block";
        return;
      } else {
        stats.reds24h++;
        stats.streakRedAtual++;
        if (stats.streakRedAtual > stats.recordeReds) {
          stats.recordeReds = stats.streakRedAtual;
        }
        galeUsado = false;
      }

      if (green) galeUsado = false;

      atualizarEstatisticas();
      adicionarHistorico(sinalAtual, resultado, green);
    }

    function atualizarEstatisticas() {
      const assertividade = stats.rodadas > 0 ? ((stats.greens / stats.rodadas) * 100).toFixed(1) : 0;

      document.getElementById("greens").innerText = stats.greens;
      document.getElementById("greensDiretos").innerText = stats.greensDiretos;
      document.getElementById("greensGale1").innerText = stats.greensGale1;
      document.getElementById("reds24h").innerText = stats.reds24h;
      document.getElementById("redsSeguidos24h").innerText = stats.streakRedAtual;
      document.getElementById("recordeReds").innerText = stats.recordeReds;
      document.getElementById("assertividade").innerText = assertividade + "%";
      document.getElementById("rodadasRegistradas").innerText = stats.rodadas;
    }

    function adicionarHistorico(sinal, resultado, green) {
      const li = document.createElement("li");
      li.innerText = `Rodada ${rodada}: Sinal ${sinal}, Resultado ${resultado} - ${green ? '✅ GREEN' : '❌ RED'}`;
      document.getElementById("historico").appendChild(li);
    }

    function resetarTudo() {
      if (!confirm("Tem certeza que deseja resetar tudo?")) return;
      rodada = 0;
      stats = {
        greens: 0,
        greensDiretos: 0,
        greensGale1: 0,
        reds24h: 0,
        redsSeguidos24h: 0,
        recordeReds: 0,
        assertividade: 0,
        rodadas: 0,
        historico: [],
        streakRedAtual: 0
      };
      document.getElementById("historico").innerHTML = '';
      atualizarEstatisticas();
    }
  </script>

</body>
</html>
